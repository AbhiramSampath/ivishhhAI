# ==== Nuclear-Grade Secure Environment Configuration ====
# ðŸ”’ DO NOT COMMIT TO VERSION CONTROL
# ðŸ” Store production secrets in encrypted vaults only

# --- ðŸ§  Core Identity ---
APP_ENV=production                          # Options: development|staging|production
INSTANCE_ID=ivish-prod-$(uuidgen)           # Unique per deployment
DEPLOYMENT_REGION=us-east-1-az2             # Cloud region + AZ
KUBERNETES_NAMESPACE=ivish-secure           # For container orchestration

# --- ðŸ” Network Security ---
HOST=127.0.0.1                            # Loopback for reverse proxy
PORT=3000                                  # Non-standard port
ALLOWED_ORIGINS=https://ivish.ai             # Strict CORS
INTERNAL_API_KEY=$(openssl rand -hex 32)    # Auto-generated per deploy
ENABLE_HSTS=True                           # HTTP Strict Transport Security
TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12  # Internal network ranges

# --- ðŸ¤– AI Model Security ---
WHISPER_MODE=offline                        # Options: offline|api|hybrid
WHISPER_MODEL_PATH=/secure/models/ggml-base.bin  # Encrypted model storage
TRANSLATION_MODE=sarvam                    # Options: sarvam|indic-trans2|google
TTS_MODE=coqui                              # Options: coqui|bark|mimic3
SAFETY_MODE=paranoid                        # Options: relaxed|strict|paranoid
MODEL_FALLBACK_CHAIN=llama-7b,bloomz-1b7   # Failover models
ENABLE_FEDERATED_LEARNING=False            # For secure model training

# --- ðŸ” Cryptographic Secrets ---
# ðŸ”‘ Rotate quarterly or after security incidents
AES_256_KEY=your-32-byte-secret-here        # 256-bit secret (32 bytes)
JWT_SECRET=your-64-byte-secret-here          # 512-bit secret
ZKP_PRIVATE_KEY=vault:ivish/zkp-key         # Encrypted ZKP private key
SESSION_EPHEMERAL_KEY=$(openssl rand -hex 32) # Per-session temp key
HMAC_SHA256_KEY=your-hmac-secret-here        # For payload integrity
BLOCKCHAIN_AUDIT_KEY=vault:ivish/blockchain-audit-key  # Immutable logs

# --- ðŸ—ƒï¸ Database Security ---
REDIS_URL=rediss://:$(openssl rand -hex 32)@redis-encrypted:6379/0?ssl_cert_reqs=CERT_REQUIRED
MONGO_URI=mongodb+srv://user:$(openssl rand -hex 16)@cluster0.xzy.mongodb.net/ivish_prod?retryWrites=true&w=majority&tls=true
POSTGRES_URI=postgresql://ivish:$(openssl rand -hex 32)@pgbouncer:5432/ivish_prod?sslmode=verify-full

# --- ðŸ›¡ï¸ API Security ---
# ðŸ’€ Never use raw keys - always proxy through IAM
OPENAI_PROXY=https://gateway.ivish.ai/openai  # MITM-protected proxy
AWS_ROLE_ARN=arn:aws:iam::123456789012:role/ivish-tts-role  # Temporary credentials only
SARVAM_API_KEY=vault:ivish/sarvam-api-key   # Vault reference
BLOCKCHAIN_AUDIT_KEY=vault:ivish/blockchain-audit-key

# --- ðŸš¨ Nuclear Defense System ---
ENABLE_BLACKHOLE=True                      # Activates anti-DDoS
MAX_ERROR_RATE=10                          # Errors/minute before lockdown
AUTO_WIPE_THRESHOLD=5                     # Failed auth attempts
HONEYPOT_ENDPOINTS=/api/v1/fake/*          # Trap paths
ENDPOINT_ROTATION_INTERVAL=3600            # Seconds

# --- ðŸŽ¯ Biometric Security ---
VOICE_PRINT_HASH_SALT=$(openssl rand -hex 16) # Secure voiceprint hashing
MIN_BIOMETRIC_CONFIDENCE=0.92              # Strict voice match threshold
LIVENESS_DETECTION=True                    # Anti-recording checks
FACIAL_RECOGNITION_TTL=60                 # Seconds to re-validate
BIOMETRIC_MODEL_PATH=/secure/models/biometric-ai.bin

# --- ðŸ§  AutoCoder Protections ---
AUTOCODER_MODE=supervised                 # Options: disabled|supervised|autonomous
CODE_REVIEW_REQUIRED=True                 # Human approval needed
GIT_SIGNING_KEY=/secure/gpg.asc            # Signed commits only
MODEL_SANDBOX=True                         # Isolated execution
AUTOCODER_LOG_LEVEL=secure                 # No raw output

# --- ðŸ“Š Advanced Monitoring ---
AUDIT_LOG_ENDPOINT=https://logs.ivish.ai/ingest 
SENTRY_DSN=https://xxxx@sentry.ivish.ai/1?ca_cert=/secure/certs/sentry.pem
PROMETHEUS_PUSH_GATEWAY=push.ivish.ai:9091
BLOCKCHAIN_MONITORING=True                 # For audit trails
LOG_RETENTION_DAYS=90                      # Encrypted logging

# --- ðŸ“œ Compliance Enforcements ---
GDPR_MODE=strict                            # Auto-data-purge
HIPAA_COMPLIANT=True                       # Healthcare-grade encryption
SOC2_AUDIT_READY=True                       # Prepares evidence logs
DATA_RETENTION_DAYS=30                      # Automatic secure deletion
SECURE_LOG_WIPE=True                        # Auto-wipe logs after retention

# --- ðŸ›‘ Fallback Configuration ---
FALLBACK_IP=192.0.2.1                     # Emergency access only
DISASTER_RECOVERY_KEY=vault:ivish/dr-key-2024
OFFLINE_MODEL_PATH=/secure/models/offline/
FALLBACK_TTS_ENGINE=llm-fallback
FALLBACK_GPT_PROXY=https://fallback.ivish.ai/gpt 
FALLBACK_STT_ENGINE=offline-whisper
FALLBACK_SENTIMENT_ENGINE=bert-base

# --- ðŸ§ª Development Settings ---
DEBUG_MODE=False                            # Always False in production
DEV_LOG_LEVEL=INFO                          # For dev only
TESTING_MODE=False                          # Test mode disables some checks
STAGING_MODE=False                          # Staging uses test vaults

# --- ðŸ§± System Flags ---
MAX_REQUEST_SIZE=1048576                  # 1MB request limit
MAX_AUDIO_CHUNK_SIZE=2097152              # 2MB audio limit
MAX_SESSION_AGE=3600                       # 1-hour sessions
MAX_CONCURRENT_SESSIONS=1000               # Prevent DoS
MAX_RETRIES=3                              # For AI API calls
MAX_LOG_LEVEL=CRITICAL                      # Minimal logs in prod

# --- ðŸ§¬ Feature Flags ---
ENABLE_TTS=True                            # Text-to-Speech
ENABLE_STT=True                            # Speech-to-Text
ENABLE_MULTILINGUAL=True                   # Language switching
ENABLE_VOICE_BIOMETRICS=True               # For secure access
ENABLE_ZKP=True                            # Zero-Knowledge Proof
ENABLE_BLOCKCHAIN_LOG=True                 # Immutable logs
ENABLE_PRIVATE_MODE=False                  # No PII in output

# --- ðŸ§  AI Model Settings ---
WHISPER_ENGINE=ggml                        # Options: ggml|openai|deepgram
TTS_ENGINE=coqui                           # Options: coqui|bark|tacotron
GPT_ENGINE=llama3                          # Options: gpt-4|llama3|falcon
TRANSLATION_ENGINE=sarvam                 # sarvam|google|indic-trans
EMOTION_ENGINE=roberta                      # bert|roberta|indic-bert
MEMORY_ENGINE=faiss                         # faiss|redis|chroma
REPHRASE_ENGINE=paraphrase-base            # Options: paraphrase-base|t5

# --- ðŸ§± System Resource Limits ---
CPU_USAGE_LIMIT=0.90                       # Auto-throttle if exceeded
MEMORY_USAGE_LIMIT=0.85                    # Auto-restart if exceeded
GPU_USAGE_LIMIT=0.95                      # For GPU-based models
MAX_LATENCY=200                            # ms for real-time AI
MIN_CONFIDENCE=0.6                         # Reject low-confidence output

# --- ðŸ“¡ Push Notifications & Messaging ---
PUSH_NOTIFICATION_KEY=vault:ivish/push-key
WHATSAPP_API_KEY=vault:ivish/whatsapp
SMS_GATEWAY_URL=https://secure.sms.gateway/send 
NOTIFICATION_TTL=300                      # Seconds to retry
SECURE_MESSAGING=True                      # AES-256 for messages

# --- ðŸ” Session Management ---
SESSION_ENGINE=jwt                          # jwt|cookie|zkc
SESSION_STORAGE=redis                       # redis|local|blockchain
SESSION_EXPIRY=3600                        # 1 hour
REFRESH_TOKEN_EXPIRY=86400                 # 24 hours
SESSION_ROTATION_INTERVAL=1800             # 30 mins
SESSION_LOGGING=True                        # Immutable session logs

# --- ðŸ§ª Testing Support ---
TESTING_LOG_LEVEL=DEBUG                     # For test runs
TESTING_MODEL_TOLERANCE=0.1                # Tolerance for test models
TESTING_DISABLE_SECURITY=False              # For integration tests
TESTING_ALLOW_ORIGIN=http://localhost:3001  # For dev testing

# --- ðŸ§¯ Auto-Wipe & Secure Wipe ---
SECURE_WIPE_PATHS=/tmp/ivish_* /dev/shm/ivish_*
SECURE_WIPE_INTERVAL=300                  # 5 min
SECURE_WIPE_ON_FAILURE=True                # Auto-secure wipe
SECURE_WIPE_LOG_LEVEL=CRITICAL              # Only wipe on critical

# --- ðŸ§¬ ZKP & Secure Identity ---
ZKP_BACKEND=libsnark                       # Options: libsnark|bellman|plonk
ZKP_LOG_LEVEL=ERROR                        # Hide internal logic
ZKP_MAX_ATTEMPTS=3                         # Fail after 3 tries
ZKP_KEY_ROTATION_INTERVAL=86400           # Rotate every 24 hours

# --- ðŸ§± Memory Agent Settings ---
MEMORY_AGENT=faiss                          # Options: faiss|chroma|pinecone
MEMORY_STORAGE=redis                        # redis|local|mongo
MEMORY_EXPIRY=21600                        # 6 hours
MEMORY_LOG_LEVEL=ERROR                      # No sensitive logging

# --- ðŸ“‹ Language & Tone Settings ---
DEFAULT_LANGUAGE=en                         # Fallback language
TONE_ENGINE=roberta                         # Options: bert|roberta|indic-bert
TONE_LOG_LEVEL=WARNING                     # Prevent leaking tone data
TONE_CONFIDENCE_THRESHOLD=0.7              # Accept tone above 70%

# --- ðŸ§ª Diagnostic & Health Settings ---
HEALTH_CHECK_INTERVAL=60                   # 1 min
HEALTH_LOG_LEVEL=WARNING
DIAGNOSTIC_MODE=secure                     # secure|debug|test
DIAGNOSTIC_LOG_PATH=/var/log/ivish/diag/
DIAGNOSTIC_LOG_LEVEL=ERROR

# --- ðŸ“¦ External Services ---
BLOCKCHAIN_PROVIDER=infura                  # For logging
FIREWALL_PROVIDER=cloudflare               # For rate limiting
MONITORING_PROVIDER=sentry                 # For error tracking
CLOUD_PROVIDER=aws                         # For fallback logic
SECURE_STORAGE_PROVIDER=minio                # Encrypted storage

# --- ðŸ“ File & Path Security ---
SECURE_STORAGE_PATH=/secure/models/
SECURE_LOG_PATH=/var/log/ivish/
SECURE_TMP_PATH=/dev/shm/ivish/
SECURE_CACHE_PATH=/dev/shm/cache/
SECURE_MODEL_TTL=3600                     # Model cache expiry (1 hour)

# --- ðŸ§  AI Pipeline Settings ---
MAX_PIPELINE_LATENCY=200                  # ms for real-time response
MIN_PIPELINE_CONFIDENCE=0.6               # Below this, fallback
PIPELINE_FALLBACK_ENGINE=llama3            # Fallback if GPT fails
PIPELINE_LOG_LEVEL=ERROR                   # No tracebacks in prod
PIPELINE_FALLBACK_ON_FAILURE=True           # For AI pipeline

# --- ðŸ§ª Async & Real-Time Settings ---
UVLOOP=True                                # For low-latency event loop
ASYNC_TIMEOUT=0.5                          # 500ms timeout
ASYNC_MAX_RETRIES=3                         # Retry logic
ASYNC_FALLBACK=True                         # Graceful degradation
ASYNC_LOG_LEVEL=CRITICAL                   # Prevent leakage

# --- ðŸ“¥ Input/Output Sanitization ---
INPUT_SANITIZER=on                         # Prevent injection
OUTPUT_SANITIZER=on                        # Prevent leakage
SANITIZER_LOG_LEVEL=CRITICAL               # For security
SANITIZER_MAX_INPUT=2000                  # Prevent DoS
SANITIZER_MAX_OUTPUT=5000                # Prevent oversized output

# --- ðŸ§¨ Defense Settings ---
ENABLE_FIREWALL=True                       # For intrusion detection
ENABLE_HONEYPOT=True                       # For threat intelligence
ENABLE_RATE_LIMITING=True                  # For abuse protection
ENABLE_IP_BINDING=True                      # Prevent token sharing
ENABLE_DEVICE_BINDING=True                  # Secure session per device

# --- ðŸ§ª Memory & Session Logging ---
ENABLE_MEMORY_LOG=True                     # For debugging
MEMORY_LOG_LEVEL=ERROR                      # No sensitive data
SESSION_LOG_LEVEL=ERROR                     # No tracebacks
ENABLE_SESSION_LOG=True                     # For audit
SESSION_LOG_PATH=/var/log/ivish/session/

# --- ðŸ§  Emotion Detection Settings ---
EMOTION_ENGINE=roberta                      # bert|roberta|indic-bert
EMOTION_LOG_LEVEL=WARNING
EMOTION_CONFIDENCE=0.75                    # Minimum confidence
EMOTION_FALLBACK=neutral                    # Default if low confidence
EMOTION_TTS_MODULATION=True                # For tone-aware speech

# --- ðŸ§ª Translation Settings ---
TRANSLATION_ENGINE=sarvam                  # sarvam|google|indic-trans2
TRANSLATION_LOG_LEVEL=WARNING
TRANSLATION_FALLBACK=en                    # English fallback
TRANSLATION_CONFIDENCE=0.8                 # Minimum confidence
TRANSLATION_FALLBACK_ENGINE=google          # Fallback engine

# --- ðŸ§  TTS Settings ---
TTS_ENGINE=coqui                           # coqui|mimic3|bark
TTS_LOG_LEVEL=ERROR                       # Prevent leakage
TTS_MAX_OUTPUT_LENGTH=500                 # Prevent oversized
TTS_VOICE_PATH=/secure/models/tts/voices/
TTS_FALLBACK_VOICE=female-en               # For emergency

# --- ðŸ§  STT Settings ---
STT_ENGINE=whisper                         # whisper|deepspeech|vosk
STT_LOG_LEVEL=ERROR                        # No tracebacks
STT_MIN_CONFIDENCE=0.8                     # Reject low-confidence
STT_FALLBACK_ENGINE=deepspeech             # Fallback engine
STT_FALLBACK_PATH=/secure/models/stt/

# --- ðŸ§  Rephrase Settings ---
REPHRASE_ENGINE=paraphrase-base            # Options: t5|paraphrase-base
REPHRASE_LOG_LEVEL=ERROR
REPHRASE_CONFIDENCE=0.7                   # Accept if >70%
REPHRASE_FALLBACK_ENGINE=t5                # Fallback engine
REPHRASE_MAX_LENGTH=500                   # Prevent oversized

# --- ðŸ§ª Voice Call Settings ---
VOICE_CALL_ENGINE=webrtc                   # webrtc|sip|pjsip
VOICE_CALL_LOG_LEVEL=CRITICAL              # No PII in logs
VOICE_CALL_FALLBACK_ENGINE=sip              # For emergency
VOICE_CALL_FALLBACK_PATH=/secure/call/fallback/
VOICE_CALL_LOG_PATH=/var/log/ivish/call/

# --- ðŸ§ª Collaboration Settings ---
COLLABORATION_ENGINE=socketio               # socketio|web3|redis
COLLABORATION_LOG_LEVEL=CRITICAL           # No tracebacks
COLLABORATION_FALLBACK_ENGINE=redis          # For fallback
COLLABORATION_MAX_USERS=25                 # Prevent DoS
COLLABORATION_LOG_PATH=/var/log/ivish/collab/

# --- ðŸ§ª Latency Monitoring ---
LATENCY_MONITOR=on                          # Enable latency tracking
LATENCY_LOG_PATH=/var/log/ivish/latency/
LATENCY_LOG_LEVEL=WARNING
LATENCY_MAX_ALLOWED=200                   # ms for real-time
LATENCY_LOG_TO_BLOCKCHAIN=True             # For audit

# --- ðŸ§ª User & Session Settings ---
USER_DB_ENGINE=mongo                        # mongo|postgres|redis
USER_DB_LOG_LEVEL=CRITICAL                 # No sensitive data
USER_DB_FALLBACK_ENGINE=redis               # Fallback session store
USER_DB_LOG_PATH=/var/log/ivish/users/
USER_DB_MAX_SESSIONS=1000                 # Prevent DoS

# --- ðŸ§ª Diagnostics Settings ---
DIAGNOSTIC_ENGINE=ai                      # ai|manual|auto
DIAGNOSTIC_LOG_PATH=/var/log/ivish/diag/
DIAGNOSTIC_LOG_LEVEL=CRITICAL
DIAGNOSTIC_MODE=secure                     # secure|debug|test
DIAGNOSTIC_MAX_LOGS=10000                 # Prevent memory overflow

# --- ðŸ§ª NER & Entity Settings ---
NER_ENGINE=spacy                            # spacy|flair|bert
NER_LOG_LEVEL=WARNING
NER_FALLBACK_ENGINE=flair                   # For fallback
NER_MIN_CONFIDENCE=0.85                    # Accept if >85%
NER_LOG_PATH=/var/log/ivish/ner/

# --- ðŸ§ª Date & Cultural Settings ---
DATE_ENGINE=nuclear                         # nuclear|standard|custom
DATE_LOG_LEVEL=WARNING
DATE_FALLBACK_ENGINE=standard               # For fallback
DATE_LOG_PATH=/var/log/ivish/date/
DATE_CALENDAR=gregorian                     # gregorian|islamic|hijri

# --- ðŸ§ª Sentiment & Tone Settings ---
SENTIMENT_ENGINE=roberta                   # bert|roberta|indic-bert
SENTIMENT_LOG_LEVEL=ERROR
SENTIMENT_FALLBACK_ENGINE=bert              # Fallback engine
SENTIMENT_CONFIDENCE=0.7                   # Accept if >70%
SENTIMENT_LOG_PATH=/var/log/ivish/sentiment/

# --- ðŸ§ª Memory & Context Settings ---
MEMORY_AGENT=faiss                         # faiss|chroma|pinecone
MEMORY_LOG_LEVEL=ERROR
MEMORY_FALLBACK_ENGINE=redis                # For fallback
MEMORY_CONFIDENCE=0.8                      # Accept if >80%
MEMORY_LOG_PATH=/var/log/ivish/memory/
MEMORY_EXPIRY=3600                        # 1-hour expiry

# --- ðŸ§ª Audio Streaming Settings ---
AUDIO_STREAM_ENGINE=webrtc                  # webrtc|socketio|rtmp
AUDIO_STREAM_LOG_LEVEL=CRITICAL            # Prevent leakage
AUDIO_STREAM_FALLBACK_ENGINE=socketio        # Fallback engine
AUDIO_STREAM_BUFFER=1600                   # 1600 samples
AUDIO_STREAM_LOG_PATH=/var/log/ivish/audio/

# --- ðŸ§ª Voice Call Settings ---
VOICE_CALL_ENGINE=webrtc                   # webrtc|sip|pjsip
VOICE_CALL_LOG_LEVEL=CRITICAL              # No tracebacks
VOICE_CALL_FALLBACK_ENGINE=sip              # For emergency
VOICE_CALL_LOG_PATH=/var/log/ivish/call/
VOICE_CALL_FALLBACK_PATH=/secure/call/fallback/

# --- ðŸ§ª Manual Override Settings ---
MANUAL_OVERRIDE_ENGINE=manual               # manual|auto|semi-auto
MANUAL_OVERRIDE_LOG_LEVEL=CRITICAL         # No sensitive data
MANUAL_OVERRIDE_FALLBACK_ENGINE=auto       # Auto fallback
MANUAL_OVERRIDE_LOG_PATH=/var/log/ivish/override/
MANUAL_OVERRIDE_FALLBACK_PATH=/secure/override/fallback/

# --- ðŸ§ª Error Handling Settings ---
ERROR_HANDLER_ENGINE=secure                 # secure|standard|debug
ERROR_HANDLER_LOG_LEVEL=CRITICAL           # No tracebacks
ERROR_HANDLER_FALLBACK_ENGINE=standard      # For fallback
ERROR_HANDLER_LOG_PATH=/var/log/ivish/errors/
ERROR_HANDLER_AUTO_WIPE=True              # Wipe after 24h

# --- ðŸ§ª Blockchain Settings ---
BLOCKCHAIN_ENGINE=ethereum                 # ethereum|polygon|custom
BLOCKCHAIN_LOG_LEVEL=WARNING
BLOCKCHAIN_FALLBACK_ENGINE=custom           # For fallback
BLOCKCHAIN_LOG_PATH=/var/log/ivish/blockchain/
BLOCKCHAIN_PROVIDER=infura                  # For logging

# --- ðŸ§ª Firewall Settings ---
FIREWALL_ENGINE=iptables                  # iptables|cloudflare|custom
FIREWALL_LOG_LEVEL=CRITICAL               # No sensitive data
FIREWALL_FALLBACK_ENGINE=cloudflare        # For fallback
FIREWALL_LOG_PATH=/var/log/ivish/firewall/
FIREWALL_RATE_LIMIT=50                    # Requests per minute

# --- ðŸ§ª Crypto Settings ---
CRYPTO_ENGINE=openssl                      # openssl|libsodium|libressl
CRYPTO_LOG_LEVEL=ERROR                     # No sensitive data
CRYPTO_FALLBACK_ENGINE=libsodium            # For fallback
CRYPTO_LOG_PATH=/var/log/ivish/crypto/
CRYPTO_KEY_ROTATION_INTERVAL=86400       # 24 hours

# --- ðŸ§ª Logging Settings ---
LOG_ENGINE=file                            # file|socket|blockchain
LOG_LEVEL=CRITICAL                         # No tracebacks
LOG_FALLBACK_ENGINE=socket                 # For fallback
LOG_PATH=/var/log/ivish/
LOG_FALLBACK_PATH=/backup/logs/ivish/

# --- ðŸ§ª Developer Settings ---
DEV_LOG_LEVEL=INFO                         # For dev only
DEV_ALLOW_ORIGIN=http://localhost:3001    # For local testing
DEV_DISABLE_SECURITY=False                 # For testing
DEV_DISABLE_SANITIZER=False               # For debugging
DEV_DISABLE_ZKP=False                     # For testing